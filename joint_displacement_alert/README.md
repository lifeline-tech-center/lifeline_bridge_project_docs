# ğŸŒ‰ ä¼¸ç¼©ç¼ä½ç§»å¼‚å¸¸é¢„è­¦æ¨¡å‹

>  åŸå¸‚ç”Ÿå‘½çº¿å®‰å…¨å·¥ç¨‹ | ç»“æ„å¥åº·ç›‘æµ‹ | åŠ¨æ€å›å½’å»ºæ¨¡ | å¤šçº§é¢„è­¦ä¸å¯è§†åŒ–

---

## ğŸ“š é¡¹ç›®èƒŒæ™¯

ä¼¸ç¼©ç¼ä½ç§»çš„å¼‚å¸¸å˜åŒ–æ˜¯æ¡¥æ¢é•¿æœŸæœå½¹ä¸­å¸¸è§çš„æ½œåœ¨ç—…å®³ã€‚å—ç¯å¢ƒæ¸©åº¦ç­‰å¤–éƒ¨å› ç´ å½±å“ï¼Œä¼¸ç¼©ç¼ä½ç§»ä¼šå‡ºç°å‘¨æœŸæ€§æ³¢åŠ¨ã€‚ç„¶è€Œï¼Œè‹¥ä¼¸ç¼©ç¼ä½ç§»å‡ºç°è¶…å‡ºæ­£å¸¸èŒƒå›´çš„å¼‚å¸¸æ³¢åŠ¨ï¼Œå¾€å¾€æ„å‘³ç€ç»“æ„å±€éƒ¨å—åŠ›çŠ¶æ€æ”¹å˜æˆ–ç—…å®³éšæ‚£ï¼Œå½±å“æ¡¥æ¢å®‰å…¨æ€§ä¸ä½¿ç”¨æ€§èƒ½ã€‚

æœ¬æ¨¡å—åŸºäºåŠ¨æ€å›å½’å»ºæ¨¡å’Œé˜ˆå€¼åˆ†ææ–¹æ³•ï¼Œç»“åˆæ¸©åº¦ä¿®æ­£ä¸æ®‹å·®åŠ¨æ€é˜ˆå€¼è®¡ç®—ï¼Œå®ç°ä¼¸ç¼©ç¼ä½ç§»çš„å¼‚å¸¸è¶‹åŠ¿åˆ¤åˆ«å’Œå¤šçº§é¢„è­¦ã€‚æ¨¡å—å…·å¤‡ **è¶‹åŠ¿å¯è§†åŒ–ã€å†å²æ•°æ®åˆ†æã€å¤šçº§é¢„è­¦åˆ¤åˆ«** ç­‰åŠŸèƒ½ï¼Œæ”¯æŒé›†æˆè‡³çœçº§åŸå¸‚ç”Ÿå‘½çº¿å®‰å…¨ç›‘æµ‹å¹³å°ã€‚

---

## ğŸ“Œ æ¨¡å‹ç®€ä»‹

æœ¬é¡¹ç›®ä¸º **åŸå¸‚ç”Ÿå‘½çº¿å®‰å…¨å·¥ç¨‹ç›‘æµ‹å¹³å°æ¡¥æ¢é¢„è­¦ä½“ç³»æ ¸å¿ƒå­æ¨¡å—â…¡ï¼šä¼¸ç¼©ç¼ä½ç§»å¼‚å¸¸é¢„è­¦æ¨¡å‹**ï¼Œæ—¨åœ¨è¯†åˆ«ä¼¸ç¼©ç¼åœ¨é•¿æœŸæœå½¹è¿‡ç¨‹ä¸­çš„ **å¼‚å¸¸ä½ç§»æ³¢åŠ¨åŠæ½œåœ¨çš„æŸä¼¤é—®é¢˜**ã€‚

æ¨¡å—åˆ©ç”¨æ¸©åº¦ä¿®æ­£ã€åŸºå‡†é¢„æµ‹ï¼ˆçº¿æ€§å›å½’ï¼‰ä¸æ»‘åŠ¨æ®‹å·®åŠ¨æ€é˜ˆå€¼åˆ†æï¼ŒåŠ¨æ€åˆ¤æ–­ä¼¸ç¼©ç¼ä½ç§»çš„æ³¢åŠ¨æ˜¯å¦è¶…å‡ºé¢„è­¦é˜ˆå€¼ï¼Œå®ç° **æ­£å¸¸ã€ä¸‰çº§ã€äºŒçº§ã€ä¸€çº§é¢„è­¦** çš„å¤šçº§åˆ¤åˆ«ã€‚æ”¯æŒå†å²æ•°æ®ç¦»çº¿åˆ†æåŠå›¾å½¢åŒ–å±•ç¤ºï¼Œä¹Ÿå¯æ‹“å±•ä¸ºåœ¨çº¿ç›‘æµ‹ç³»ç»Ÿçš„å­æ¨¡å—ã€‚

- **æ¨¡å—åç§°**ï¼š`joint_displacement_alert`  
- **æ¨¡å‹åç§°**ï¼šä¼¸ç¼©ç¼ä½ç§»å¼‚å¸¸é¢„è­¦æ¨¡å‹  
- **ä½œè€…**ï¼šè‚–å›¾åˆš  
- **å¼€å‘æ—¶é—´**ï¼š2025å¹´4æœˆ27æ—¥  
- **æœ€åä¿®æ”¹**ï¼š2025å¹´6æœˆ11æ—¥

---

## ğŸŒŸ åŠŸèƒ½æè¿°

âœ… åŠ è½½å¹¶é¢„å¤„ç†å†å²ç›‘æµ‹æ•°æ®ï¼ˆæ—¶é—´æˆ³å¯¹é½ã€ç¼ºå¤±å€¼å¤„ç†ã€10åˆ†é’Ÿå‡å€¼é™é‡‡æ ·ç­‰ï¼‰  
âœ… è¿›è¡Œæ¸©åº¦ä¿®æ­£ï¼Œè®¡ç®—å¹³å‡æ¸©åº¦ç‰¹å¾ï¼Œå‰”é™¤ç¯å¢ƒæ¸©åº¦å½±å“  
âœ… å»ºç«‹ä½ç§»é¢„æµ‹åŸºå‡†æ¨¡å‹ï¼ˆçº¿æ€§å›å½’ï¼‰å¹¶è®¡ç®—åŠ¨æ€æ®‹å·®é˜ˆå€¼  
âœ… æ»‘åŠ¨çª—å£å®æ—¶åˆ¤åˆ«å¼‚å¸¸ä½ç§»ç‚¹ï¼Œåˆ†çº§é¢„è­¦ï¼ˆæ­£å¸¸ã€ä¸‰çº§ã€äºŒçº§ã€ä¸€çº§ï¼‰  
âœ… è¾“å‡ºå„çº§å¼‚å¸¸ç‚¹æ•°é‡åŠå¯¹åº”çš„æ—¶é—´æˆ³  
âœ… å¯è§†åŒ–åŠ¨æ€è¶‹åŠ¿å›¾ã€ä½ç§»-æ¸©åº¦å…³ç³»åŠå¤šçº§é¢„è­¦åˆ¤åˆ«ç»“æœ  
âœ… æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒæ‹“å±•é›†æˆåˆ°ç»“æ„å¥åº·ç›‘æµ‹å¹³å°

---

## ğŸ“‚ è¾“å…¥æ•°æ®è¯´æ˜

- **æ ¼å¼**ï¼šæœ¬åœ° CSV æ–‡ä»¶ï¼ˆ3åˆ—ã€æ— è¡¨å¤´ï¼‰  
- **æ•°æ®å†…å®¹**ï¼š  
  1ï¸âƒ£ æ—¶é—´æˆ³ï¼ˆå¦‚ `2024-05-22 11:00:00`ï¼‰  
  2ï¸âƒ£ ä¼¸ç¼©ç¼ä½ç§»ï¼ˆå•ä½ï¼šmmï¼‰  
  3ï¸âƒ£ å¤šé€šé“æ¸©åº¦ï¼ˆå•ä½ï¼šâ„ƒï¼Œå¯å¤šä¼ æ„Ÿå™¨æ¸©åº¦æ•°æ®å–å¹³å‡ï¼‰  
- **æ•°æ®æ¥æº**ï¼šæ¡¥æ¢ä¼¸ç¼©ç¼ç›‘æµ‹ç³»ç»Ÿæˆ–é™„è¿‘æ¸©åº¦æµ‹ç‚¹æ•°æ®ï¼ˆå»ºè®®è¦†ç›–ä¸€å¹´æˆ–æ›´é•¿å‘¨æœŸï¼‰  
- **é‡‡æ ·é¢‘ç‡**ï¼š10åˆ†é’Ÿå‡å€¼æˆ–1å°æ—¶é‡é‡‡æ ·ï¼Œä¿éšœæ•°æ®å¹³ç¨³æ€§  
- **ç‰¹åˆ«è¯´æ˜**ï¼šå¦‚ä½ç§»ä¼ æ„Ÿå™¨æ— æ¸©åº¦ç›‘æµ‹èƒ½åŠ›ï¼Œå¯å¼•å…¥é™„è¿‘ç›‘æµ‹ç‚¹æ¸©åº¦æ•°æ®ï¼Œåšå¥½å¯¹é½å¤„ç†

---

## ğŸ’¾ è¾“å‡ºç»“æœè¯´æ˜

- **æ ¸å¿ƒè¾“å‡º**ï¼š  
  - ä¼¸ç¼©ç¼ä½ç§»é¢„æµ‹åºåˆ—ï¼ˆåŸºå‡†æ¨¡å‹ï¼‰  
  - æ®‹å·®åŠ¨æ€é˜ˆå€¼æ›²çº¿  
  - å„çº§é¢„è­¦åˆ¤åˆ«ç»“æœï¼ˆå«å¼‚å¸¸ç‚¹æ•°é‡å’Œæ—¶é—´åˆ†å¸ƒï¼‰  
  - å…³é”®æ—¶æ®µçš„å¯è§†åŒ–è¶‹åŠ¿å›¾ï¼ˆPNGï¼‰  
- **å¯æ‹“å±•è¾“å‡º**ï¼š  
  - å­£åº¦/å¹´åº¦ä½ç§»å¢é•¿ç‡  
  - å›å½’æ¨¡å‹å‚æ•°ä¸æ®‹å·®åˆ†æ  
  - æ½œåœ¨å¼‚å¸¸æ—¶é—´æ®µæç¤ºï¼Œä¾›è¿ç»´ç®¡ç†å‚è€ƒ

---

## âš™ï¸ è¿è¡Œç¯å¢ƒä¸ä¾èµ–

- **Python**ï¼šâ‰¥ 3.9.16  
- **ä¾èµ–åº“**ï¼š  
  - pandas â‰¥ 2.2.3  
  - numpy â‰¥ 1.26.4  
  - matplotlib â‰¥ 3.9.4  
  - scikit-learn â‰¥ 1.5.2  
  - tabulate â‰¥ 0.9.0

> ğŸ“ **ä½¿ç”¨å»ºè®®**  
> - é€‚ç”¨äºæ¡¥æ¢ä¼¸ç¼©ç¼ä½ç§»é•¿æœŸè¶‹åŠ¿åˆ†æä¸æ—¥å¸¸å¥åº·ç›‘æµ‹é¢„è­¦ã€‚  
> - å»ºè®®å®šæœŸæ›´æ–°æ•°æ®ï¼Œå¹¶ç»“åˆç»“æ„æ£€ä¿®è®¡åˆ’è¿›è¡Œç»¼åˆåˆ†æã€‚  
> - å¯ä¸å…¶ä»–ç»“æ„ç›‘æµ‹æ¨¡å—é›†æˆï¼Œæå‡æ•´ä½“å¥åº·ç›‘æµ‹æ™ºèƒ½åŒ–æ°´å¹³ã€‚

- **å®‰è£…ä¾èµ–ï¼š**

```bash
pip install -r requirements.txt
```

## ğŸ’» ä»£ç ç¤ºä¾‹

ğŸ“ å®‰è£…æ¨¡å—ï¼š

```bash
cd py_modu/joint_displacement_alert
pip install .
```

âœ… å®‰è£…æˆåŠŸï¼š

```nginx
Successfully installed joint_displacement_alert-0.1.0
```

âš™ï¸ è¿è¡Œç¤ºä¾‹ï¼š

```bash
python example.py
```

`example.py` ç¤ºä¾‹ï¼š

```python
from joint_displacement_alert import (
    load_joint_data, build_regression_model,
    detect_anomalies, plot_joint_displacement, print_alert_points
)

alert_sigma_mapping = {1: 5, 2: 3, 3: 1}
filepath = 'D:/pycode/lifeline_bridge_alert/wy-temp_10min_2.csv'

# å…ˆç»Ÿä¸€å®šä¹‰æ—¶é—´æ®µå‚æ•°
start_time = "2022-10-01"
end_time = "2022-10-07"

df = load_joint_data(filepath)
df, model = build_regression_model(df)
df, std_resid = detect_anomalies(df, alert_sigma_mapping)

# æ‰“å°é¢„è­¦ç‚¹ï¼Œä¼ å…¥æ—¶é—´æ®µå‚æ•°
print_alert_points(df, start_time=start_time, end_time=end_time)

# ç»˜å›¾ï¼Œä¼ å…¥æ—¶é—´æ®µå‚æ•°
plot_joint_displacement(df, alert_sigma_mapping,
                        start_time=start_time, end_time=end_time)

```

------

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```yaml
è®­ç»ƒæ•°æ®æ€»æ•°ï¼š15944
2022-10-01~2022-10-07æ•°æ®æ€»æ•°ï¼š865

===== å„çº§ä¼¸ç¼©ç¼ä½ç§»é¢„è­¦ç‚¹ =====

ä¸€çº§é¢„è­¦:æ— å¼‚å¸¸ç‚¹ã€‚

äºŒçº§é¢„è­¦:æ— å¼‚å¸¸ç‚¹ã€‚

ä¸‰çº§é¢„è­¦:132ä¸ª
+------------------+----------+
|       æ—¶é—´       | ä½ç§»(mm) |
+------------------+----------+
| 2022-10-01 06:10 |  29.97   |
| 2022-10-01 06:20 |  30.22   |
| 2022-10-01 06:30 |  30.45   |
| 2022-10-01 06:40 |  30.73   |
| 2022-10-01 06:50 |  30.99   |
| 2022-10-01 07:00 |  31.24   |
| 2022-10-01 07:10 |  31.46   |
| 2022-10-01 07:20 |  31.64   |
| 2022-10-01 07:30 |  31.75   |
| 2022-10-01 07:40 |  31.86   |
| 2022-10-01 07:50 |  31.93   |
| 2022-10-01 08:00 |  32.02   |
| 2022-10-01 08:10 |  32.04   |
| 2022-10-01 08:20 |  32.10   |
| 2022-10-01 08:30 |  32.11   |
| 2022-10-01 08:40 |  32.10   |
| 2022-10-01 08:50 |  32.11   |
| 2022-10-01 09:00 |  32.09   |
| 2022-10-01 09:10 |  32.03   |
| 2022-10-01 09:20 |  31.95   |
| 2022-10-02 06:50 |  31.51   |
| 2022-10-02 07:00 |  31.85   |
| 2022-10-02 07:10 |  32.14   |
| 2022-10-02 07:20 |  32.51   |
| 2022-10-02 07:30 |  32.83   |
| 2022-10-02 07:40 |  33.17   |
| 2022-10-02 07:50 |  33.42   |
| 2022-10-02 08:00 |  33.59   |
| 2022-10-02 08:10 |  33.74   |
| 2022-10-02 08:20 |  33.90   |
| 2022-10-02 08:30 |  33.98   |
| 2022-10-02 08:40 |  33.98   |
| 2022-10-02 08:50 |  33.98   |
| 2022-10-02 09:00 |  33.96   |
| 2022-10-02 09:10 |  33.87   |
| 2022-10-02 09:20 |  33.78   |
| 2022-10-02 20:10 |  22.45   |
| 2022-10-02 20:20 |  22.38   |
| 2022-10-02 20:30 |  22.30   |
| 2022-10-02 20:40 |  22.23   |
| 2022-10-02 20:50 |  22.17   |
| 2022-10-02 21:00 |  22.14   |
| 2022-10-02 21:10 |  22.06   |
| 2022-10-02 21:20 |  22.01   |
| 2022-10-02 21:30 |  21.98   |
| 2022-10-02 21:40 |  21.90   |
| 2022-10-02 21:50 |  21.88   |
| 2022-10-02 22:00 |  21.80   |
| 2022-10-02 22:10 |  21.76   |
| 2022-10-02 22:20 |  21.69   |
| 2022-10-02 22:30 |  21.63   |
| 2022-10-02 22:40 |  21.56   |
| 2022-10-02 22:50 |  21.52   |
| 2022-10-02 23:00 |  21.48   |
| 2022-10-02 23:10 |  21.45   |
| 2022-10-02 23:20 |  21.39   |
| 2022-10-02 23:30 |  21.32   |
| 2022-10-02 23:40 |  21.27   |
| 2022-10-02 23:50 |  21.22   |
| 2022-10-03 00:00 |  21.15   |
| 2022-10-03 00:10 |  21.12   |
| 2022-10-03 00:20 |  21.06   |
| 2022-10-03 00:30 |  21.04   |
| 2022-10-03 00:40 |  21.02   |
| 2022-10-03 00:50 |  20.97   |
| 2022-10-03 01:00 |  20.97   |
| 2022-10-03 01:10 |  20.95   |
| 2022-10-03 01:20 |  20.94   |
| 2022-10-03 01:30 |  20.96   |
| 2022-10-03 01:40 |  20.97   |
| 2022-10-03 01:50 |  21.04   |
| 2022-10-03 02:00 |  21.09   |
| 2022-10-03 02:10 |  21.14   |
| 2022-10-03 02:20 |  21.21   |
| 2022-10-03 02:30 |  21.25   |
| 2022-10-03 20:10 |  16.53   |
| 2022-10-03 20:20 |  16.43   |
| 2022-10-03 20:30 |  16.35   |
| 2022-10-03 20:40 |  16.27   |
| 2022-10-03 20:50 |  16.16   |
| 2022-10-03 21:00 |  16.09   |
| 2022-10-03 21:10 |  15.98   |
| 2022-10-03 21:20 |  15.93   |
| 2022-10-03 21:30 |  15.86   |
| 2022-10-03 21:40 |  15.80   |
| 2022-10-03 21:50 |  15.73   |
| 2022-10-03 22:00 |  15.66   |
| 2022-10-03 22:10 |  15.55   |
| 2022-10-03 22:20 |  15.46   |
| 2022-10-03 22:30 |  15.44   |
| 2022-10-03 22:40 |  15.38   |
| 2022-10-03 22:50 |  15.34   |
| 2022-10-03 23:00 |  15.25   |
| 2022-10-03 23:10 |  15.17   |
| 2022-10-03 23:20 |  15.10   |
| 2022-10-03 23:30 |  15.03   |
| 2022-10-03 23:40 |  14.96   |
| 2022-10-03 23:50 |  14.93   |
| 2022-10-04 00:00 |  14.86   |
| 2022-10-04 00:10 |  14.84   |
| 2022-10-04 00:20 |  14.78   |
| 2022-10-04 00:30 |  14.77   |
| 2022-10-04 00:40 |  14.77   |
| 2022-10-04 00:50 |  14.77   |
| 2022-10-04 01:00 |  14.77   |
| 2022-10-04 01:10 |  14.77   |
| 2022-10-04 01:20 |  14.77   |
| 2022-10-04 01:30 |  14.85   |
| 2022-10-04 01:40 |  14.92   |
| 2022-10-04 01:50 |  15.00   |
| 2022-10-04 02:00 |  15.12   |
| 2022-10-04 02:10 |  15.27   |
| 2022-10-04 02:20 |  15.43   |
| 2022-10-04 02:30 |  15.63   |
| 2022-10-04 06:30 |  25.58   |
| 2022-10-04 06:40 |  26.27   |
| 2022-10-04 06:50 |  26.83   |
| 2022-10-04 07:00 |  27.17   |
| 2022-10-04 07:10 |  27.52   |
| 2022-10-04 07:20 |  27.71   |
| 2022-10-04 07:30 |  27.82   |
| 2022-10-04 07:40 |  27.83   |
| 2022-10-04 07:50 |  27.81   |
| 2022-10-04 08:00 |  27.71   |
| 2022-10-04 08:10 |  27.61   |
| 2022-10-04 08:20 |  27.47   |
| 2022-10-04 08:30 |  27.32   |
| 2022-10-04 08:40 |  27.20   |
| 2022-10-04 08:50 |  27.08   |
| 2022-10-04 09:00 |  27.02   |
| 2022-10-04 09:10 |  26.97   |
| 2022-10-04 09:20 |  26.91   |
+------------------+----------+
```

| ![ä¼¸ç¼©ç¼ä½ç§»è¶‹åŠ¿å›¾](figures/Figure_1.png) |